"use strict";var Ee=Object.defineProperty;var St=Object.getOwnPropertyDescriptor;var Mt=Object.getOwnPropertyNames;var Ot=Object.prototype.hasOwnProperty;var Bt=(e,t)=>{for(var n in t)Ee(e,n,{get:t[n],enumerable:!0})},kt=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Mt(t))!Ot.call(e,i)&&i!==n&&Ee(e,i,{get:()=>t[i],enumerable:!(r=St(t,i))||r.enumerable});return e};var _t=e=>kt(Ee({},"__esModule",{value:!0}),e);var cn={};Bt(cn,{ConfettiBurst:()=>yt,ConfettiButton:()=>Me,ConfettiEngine:()=>de,DEFAULT_COLORS:()=>ge,DEFAULT_CONFIG:()=>_,DEFAULT_DIRECTION:()=>ae,DEFAULT_PARTICLE:()=>se,DEFAULT_PHYSICS:()=>oe,DIRECTION_ANGLES:()=>be,EASING_FUNCTIONS:()=>it,clamp:()=>z,confetti:()=>F,createConfettiExplosion:()=>fe,default:()=>F,degToRad:()=>S,fireFromElement:()=>ve,forceCleanup:()=>wt,getActiveAnimationCount:()=>vt,getDirectionAngle:()=>ce,getElementCenter:()=>ut,isBrowser:()=>$,lerp:()=>lt,mergeConfig:()=>Ce,parseColor:()=>J,radToDeg:()=>ct,randomFromArray:()=>Z,randomInRange:()=>m,randomInt:()=>st,rgbaToString:()=>K,useConfetti:()=>j});module.exports=_t(cn);var ge=["#FF6B6B","#4ECDC4","#FFE66D","#95E1D3","#F38181","#AA96DA","#FCBAD3","#A8D8EA","#FF9A8B","#88D8B0"],oe={gravity:.25,drag:.035,friction:.985,rotationSpeed:1.5,wind:0,windVariation:.02,tumble:!0,decay:.99,bounce:0,floor:null,wobble:!0,wobbleSpeed:1.5,flutter:!0,flutterSpeed:2.5,flutterIntensity:.4,airResistance:.03,swayAmplitude:15,swayFrequency:2},ae={direction:"up",spread:55,velocity:[25,50],velocityDecay:.92},se={colors:ge,shapes:["square","rectangle","circle"],size:[6,14],opacity:[.85,1],lifespan:4e3,fadeOut:!0,scaleDown:!1,spin:!0,spinSpeed:[-15,15],tilt:[-30,30],depth3D:.6,aspectRatio:[.5,1.5],shimmer:!0},V={enabled:!1,length:10,fade:.5,width:.5},Fe={enabled:!1,blur:10,color:null,intensity:.5},nt={recycle:!1,numberOfPieces:200,spawnRate:50,run:!0,tweenDuration:5e3},rt={secondaryExplosions:!0,burstCount:80,burstDelay:500,spread:360,launchHeight:.6,rocketColors:["#ffd700","#ff6b35","#ff0000"],burstColors:["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff"],trailLength:10,riseDuration:1e3,showRocket:!0},Ae={width:null,height:null,autoResize:!0,resizeDebounce:100,frameRate:null,pixelRatio:null,useWorker:!1,useOffscreen:!1};var _={particleCount:50,particle:se,physics:oe,direction:ae,mode:"burst",easing:"easeOut",zIndex:9999,autoCleanup:!0,scalar:1,drift:0,flat:!1},be={up:90,down:270,left:180,right:0},x={DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,TWO_PI:Math.PI*2,HALF_PI:Math.PI/2},it={linear:e=>e,easeIn:e=>e*e*e,easeOut:e=>1-Math.pow(1-e,3),easeInOut:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,bounce:e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,elastic:e=>{let t=2*Math.PI/3;return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*t)+1},back:e=>1+2.70158*Math.pow(e-1,3)+1.70158*Math.pow(e-1,2),circ:e=>Math.sqrt(1-Math.pow(e-1,2)),expo:e=>e===1?1:1-Math.pow(2,-10*e)};var le={r:0,g:0,b:0,a:0},X={MAX_PARTICLES:500,FRAME_BUDGET:16.67,MIN_OPACITY:.01,MIN_SIZE:.5,MAX_DPR:2},ot=100,De=5,at=.5,k={rainbow:ge,pride:["#E40303","#FF8C00","#FFED00","#008026","#24408E","#732982"],christmas:["#C41E3A","#165B33","#FFD700","#FFFFFF","#BB2528"],halloween:["#FF6600","#000000","#8B008B","#00FF00","#FFD700"],pastel:["#FFB3BA","#FFDFBA","#FFFFBA","#BAFFC9","#BAE1FF"],neon:["#FF00FF","#00FFFF","#FF0080","#80FF00","#FF8000"],gold:["#FFD700","#DAA520","#B8860B","#FFC125","#FFDF00"],silver:["#C0C0C0","#A8A8A8","#D3D3D3","#DCDCDC","#E8E8E8"],hearts:["#FF69B4","#FF1493","#FF007F","#DC143C","#FFB6C1"],ocean:["#006994","#00CED1","#20B2AA","#48D1CC","#87CEEB"]},ie={celebration:["üéâ","üéä","ü•≥","‚ú®","üéà"],hearts:["‚ù§Ô∏è","üíï","üíñ","üíó","üíì","üíò"],stars:["‚≠ê","üåü","‚ú®","üí´","‚ö°"],money:["üí∞","üíµ","üí∏","ü§ë","üíé"],christmas:["üéÑ","üéÖ","üéÅ","‚ùÑÔ∏è","‚≠ê"],halloween:["üéÉ","üëª","ü¶á","üï∑Ô∏è","üíÄ"],birthday:["üéÇ","üéÅ","üéà","üéâ","ü•≥"],food:["üçï","üçî","üçü","üå≠","üçø"]},pn={default:{name:"default",description:"Default balanced confetti burst with realistic paper physics",options:{particleCount:60,particle:{shapes:["square","rectangle","circle"],size:[6,14],depth3D:.6,tilt:[-30,30]},physics:{gravity:.25,drag:.035,wobble:!0,wobbleSpeed:1.5}}},celebration:{name:"celebration",description:"Big celebration with lots of colorful confetti and realistic movement",options:{particleCount:120,particle:{colors:[...k.rainbow],shapes:["square","rectangle","circle","star"],size:[8,16],lifespan:5e3,depth3D:.7,tilt:[-35,35]},direction:{direction:"radial",spread:360,velocity:[30,55]},physics:{gravity:.22,drag:.04,wobble:!0,wobbleSpeed:2,windVariation:.03}}},firework:{name:"firework",description:"Firework-style explosion with secondary bursts",options:{mode:"firework",particleCount:80,particle:{colors:[...k.neon],shapes:["circle","star"],size:[4,8],trail:{enabled:!0,length:8,fade:.6},glow:{enabled:!0,blur:8,intensity:.7}},firework:{secondaryExplosions:!0,burstCount:80}}},snow:{name:"snow",description:"Gentle falling snowflakes",options:{mode:"snow",particleCount:150,particle:{colors:["#FFFFFF","#F0F8FF","#E0FFFF"],shapes:["circle"],size:[3,8],lifespan:8e3,opacity:[.6,1]},physics:{gravity:.05,wind:.3,windVariation:.2,wobble:!0,wobbleSpeed:2},continuous:{recycle:!0,numberOfPieces:150}}},rain:{name:"rain",description:"Rainfall effect",options:{mode:"rain",particleCount:200,particle:{colors:["#6CA0DC","#4A90D9","#2E7BB9"],shapes:["line"],size:[2,4],lifespan:2e3},physics:{gravity:.8,wind:.1},direction:{direction:"down",spread:10,velocity:[30,50]},continuous:{recycle:!0}}},sparkle:{name:"sparkle",description:"Sparkling stars with glow effect",options:{particleCount:40,particle:{colors:[...k.gold],shapes:["star"],size:[6,12],glow:{enabled:!0,blur:15,intensity:.8}},physics:{gravity:.1}}},confetti:{name:"confetti",description:"Classic confetti falling with realistic paper flutter",options:{mode:"continuous",particleCount:200,particle:{shapes:["square","rectangle"],size:[6,14],depth3D:.8,tilt:[-40,40],lifespan:6e3},physics:{gravity:.18,drag:.045,wind:.08,windVariation:.04,wobble:!0,wobbleSpeed:2},continuous:{recycle:!0,numberOfPieces:200},spawnArea:{x:0,y:0,width:typeof window<"u"?window.innerWidth:1920,height:0}}},emoji:{name:"emoji",description:"Emoji celebration",options:{particleCount:30,particle:{images:ie.celebration.map(e=>({src:e,isEmoji:!0,scale:1.5})),size:[20,30],lifespan:4e3},direction:{direction:"up",spread:60,velocity:[20,35]}}},hearts:{name:"hearts",description:"Floating hearts",options:{particleCount:50,particle:{colors:[...k.hearts],shapes:["heart"],size:[12,20],lifespan:5e3},physics:{gravity:-.1,wobble:!0},direction:{direction:"up",spread:90,velocity:[10,20]}}},stars:{name:"stars",description:"Shooting stars",options:{particleCount:60,particle:{colors:[...k.gold,"#FFFFFF"],shapes:["star"],size:[8,16],trail:{enabled:!0,length:12,fade:.4}},direction:{direction:"radial",spread:360,velocity:[30,60]}}},money:{name:"money",description:"Money rain",options:{particleCount:40,particle:{colors:["#85BB65","#228B22","#32CD32"],images:ie.money.map(e=>({src:e,isEmoji:!0})),size:[20,30],lifespan:4e3},physics:{gravity:.15,wobble:!0}}},pride:{name:"pride",description:"Pride rainbow celebration",options:{particleCount:100,particle:{colors:[...k.pride],shapes:["square","rectangle","heart"],size:[10,16]},direction:{direction:"radial",spread:360,velocity:[25,45]}}},christmas:{name:"christmas",description:"Christmas celebration",options:{particleCount:80,particle:{colors:[...k.christmas],shapes:["star","circle"],size:[8,14],images:ie.christmas.map(e=>({src:e,isEmoji:!0}))}}},halloween:{name:"halloween",description:"Spooky Halloween",options:{particleCount:60,particle:{colors:[...k.halloween],shapes:["circle","star"],images:ie.halloween.map(e=>({src:e,isEmoji:!0})),size:[15,25]},physics:{gravity:.2,wobble:!0}}},newYear:{name:"newYear",description:"New Year celebration with fireworks",options:{mode:"firework",particleCount:100,particle:{colors:[...k.gold,...k.silver],shapes:["star","circle"],size:[6,12],trail:{enabled:!0,length:10},glow:{enabled:!0,blur:12}},firework:{secondaryExplosions:!0,burstCount:100}}},birthday:{name:"birthday",description:"Birthday party celebration",options:{particleCount:80,particle:{colors:[...k.pastel,...k.rainbow],shapes:["star","circle","heart"],images:ie.birthday.map(e=>({src:e,isEmoji:!0})),size:[12,20],lifespan:5e3},direction:{direction:"up",spread:80,velocity:[25,45]}}}};function C(){if(typeof crypto<"u"&&crypto.getRandomValues){let e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]/4294967296}return Math.random()}function m(e,t){return e+C()*(t-e)}function st(e,t){return Math.floor(m(e,t+1))}function Z(e){if(e.length===0)throw new Error("Cannot pick from empty array");return e[Math.floor(C()*e.length)]}function z(e,t,n){return Math.min(Math.max(e,t),n)}function lt(e,t,n){return e+(t-e)*z(n,0,1)}function S(e){return e*x.DEG_TO_RAD}function ct(e){return e*x.RAD_TO_DEG}function J(e){if(typeof e=="object"&&"r"in e)return{r:z(Math.round(e.r),0,255),g:z(Math.round(e.g),0,255),b:z(Math.round(e.b),0,255),a:z(e.a,0,1)};if(typeof e=="object"&&"type"in e)return J(e.colors[0]);let t=e.trim().toLowerCase();return t.startsWith("#")?zt(t):t.startsWith("rgb")?Lt(t):Nt(t)}function zt(e){let t=e.slice(1),n,r,i,o=1;switch(t.length){case 3:n=parseInt(t[0]+t[0],16),r=parseInt(t[1]+t[1],16),i=parseInt(t[2]+t[2],16);break;case 4:n=parseInt(t[0]+t[0],16),r=parseInt(t[1]+t[1],16),i=parseInt(t[2]+t[2],16),o=parseInt(t[3]+t[3],16)/255;break;case 6:n=parseInt(t.slice(0,2),16),r=parseInt(t.slice(2,4),16),i=parseInt(t.slice(4,6),16);break;case 8:n=parseInt(t.slice(0,2),16),r=parseInt(t.slice(2,4),16),i=parseInt(t.slice(4,6),16),o=parseInt(t.slice(6,8),16)/255;break;default:return le}return isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)?le:{r:n,g:r,b:i,a:o}}function Lt(e){let t=e.match(/rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([\d.]+))?\s*\)/);return t?{r:z(parseInt(t[1],10),0,255),g:z(parseInt(t[2],10),0,255),b:z(parseInt(t[3],10),0,255),a:t[4]!==void 0?z(parseFloat(t[4]),0,1):1}:le}function Nt(e){let t={red:{r:255,g:0,b:0,a:1},green:{r:0,g:128,b:0,a:1},blue:{r:0,g:0,b:255,a:1},white:{r:255,g:255,b:255,a:1},black:{r:0,g:0,b:0,a:1},yellow:{r:255,g:255,b:0,a:1},cyan:{r:0,g:255,b:255,a:1},magenta:{r:255,g:0,b:255,a:1},orange:{r:255,g:165,b:0,a:1},purple:{r:128,g:0,b:128,a:1},pink:{r:255,g:192,b:203,a:1}};if(t[e])return t[e];if(typeof document<"u")try{let n=document.createElement("canvas");n.width=1,n.height=1;let r=n.getContext("2d");if(r){r.fillStyle=e,r.fillRect(0,0,1,1);let i=r.getImageData(0,0,1,1).data;return{r:i[0],g:i[1],b:i[2],a:i[3]/255}}}catch{}return le}function K(e){return`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`}function ce(e,t){if(e==="custom"&&t!==void 0)return S(t);if(e==="radial")return C()*x.TWO_PI;let n=be[e];return S(n??90)}function ut(e){let t=e.getBoundingClientRect();return{x:t.left+t.width/2,y:t.top+t.height/2}}function Ce(e){if(!e)return _;let t={...se,...e.particle},n={...oe,...e.physics},r={...ae,...e.direction};return{particleCount:e.particleCount??_.particleCount,particle:t,physics:n,direction:r,mode:e.mode??_.mode,spawnArea:e.spawnArea?{type:"rect",x:0,y:0,...e.spawnArea}:void 0,continuous:e.continuous,firework:e.firework,canvas:e.canvas,easing:e.easing??_.easing,zIndex:e.zIndex??_.zIndex,autoCleanup:e.autoCleanup??_.autoCleanup,scalar:e.scalar??_.scalar,drift:e.drift??_.drift,flat:e.flat??_.flat,onStart:e.onStart,onComplete:e.onComplete,onFrame:e.onFrame,onParticleCreate:e.onParticleCreate,onParticleDeath:e.onParticleDeath}}function $(){return typeof window<"u"&&typeof document<"u"}function dt(e=2){return $()?Math.min(window.devicePixelRatio||1,e):1}function ft(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}var Ht=0;function Q(e,t,n,r,i,o,a,s,c,l,u){let f=m(a[0],a[1]),h=m(s[0],s[1]),p=Z(i),D=typeof p=="string"?J(p):"type"in p?J(p.colors[0]):p,R=1+(C()-.5)*.3,E=Math.cos(n)*r*R,g=-Math.sin(n)*r*R,v;u?.images&&u.images.length>0&&(v=Z(u.images));let d=u?.tiltRange??[-30,30],I=u?.spinSpeedRange??[-15,15],A=u?.aspectRatioRange??[.5,1.5],T=m(A[0],A[1]);return{id:Ht++,x:e,y:t,vx:E,vy:g,size:f,originalSize:f,rotation:C()*x.TWO_PI,rotationSpeed:(C()-.5)*.3*l,color:D,shape:v?"custom":Z(o),opacity:h,originalOpacity:h,life:c,maxLife:c,active:!0,image:v,imageElement:null,trail:[],wobblePhase:C()*x.TWO_PI,wobbleSpeed:m(.8,2.5),tilt:S(m(d[0],d[1])),tiltSpeed:m(I[0],I[1])*.015,depth:u?.depth3D??.6,hasExploded:!1,data:{},flutterPhase:C()*x.TWO_PI,flutterSpeed:m(1.5,3.5),swayPhase:C()*x.TWO_PI,aspectRatio:T,angularVelocity:(C()-.5)*.4,scaleX:1,scaleY:1,shimmerPhase:C()*x.TWO_PI,currentDrag:m(.02,.05)}}function pt(e,t,n,r,i,o,a){if(!e.active)return;let s=t*.05988;if(o?.enabled??V.enabled){let w=e.trail;w.unshift({x:e.x,y:e.y,opacity:e.opacity,size:e.size});let B=o?.length??V.length;w.length>B&&w.pop()}let c=e.vx,l=e.vy,u=e.tilt,f=c*c+l*l,h=u-u*u*u*.166667,p=1+h*.15;if(l+=n.gravity*p*s,(n.flutter??!0)&&f>1){let w=n.flutterSpeed??2.5,B=n.flutterIntensity??.4;e.flutterPhase+=w*.05*s;let H=e.flutterPhase,me=(H-H*H*H*.166667)*B*s,At=1-u*u*.5;if(c+=me*At,(h<0?-h:h)>.7){let Dt=me<0?-me:me;l-=Dt*.3}}let R=n.swayAmplitude??15,E=n.swayFrequency??2;e.swayPhase+=E*.03*s;let g=e.swayPhase,v=(g-g*g*g*.166667)*R*.01*s;c+=v;let d=n.windVariation,I=n.wind+d*(Math.random()-.5);c+=I*s;let A=n.airResistance??.03,T=1-u*u*.5,N=T<0?-T:T,Y=n.drag+N*A,L=f>0?Math.sqrt(f):0,G=Math.max(.9,1-Y*L*.01)*n.friction*n.decay;if(c*=G,l*=G,e.x+=c*s,e.y+=l*s,e.vx=c,e.vy=l,n.tumble&&(e.angularVelocity=(e.angularVelocity+c*.001*s)*.98,e.rotation+=(e.rotationSpeed+e.angularVelocity)*s),e.tiltSpeed=(e.tiltSpeed+(Math.random()-.5)*.002*s)*.995,e.tilt=(e.tilt+e.tiltSpeed*s)%x.TWO_PI,n.wobble){let w=e.wobblePhase+n.wobbleSpeed*.1*s;e.wobblePhase=w;let B=1-w*w*.5,H=w-w*w*w*.166667;e.scaleX=.3+.7*(B<0?-B:B),e.scaleY=.3+.7*(H<0?-H:H)}if(e.shimmerPhase+=.1*s,n.floor!==null&&n.bounce>0&&a){let w=n.floor??a,B=e.size*.5;e.y+B>=w&&(e.y=w-B,e.vy=-e.vy*n.bounce,e.vx*=.85,e.rotationSpeed+=(Math.random()-.5)*.1)}e.life-=t;let tt=1-e.life/e.maxLife;if(r){let w=tt,B=w*w*(3-2*w);e.opacity=e.originalOpacity*(1-B*.9)}i&&(e.size=e.originalSize*(1-tt*.5)),(e.life<=0||e.opacity<X.MIN_OPACITY||e.size<X.MIN_SIZE)&&(e.active=!1)}function ht(e,t,n){if(!t.active)return;let{x:r,y:i,size:o,rotation:a,color:s,shape:c,opacity:l,tilt:u,aspectRatio:f,scaleX:h,scaleY:p,shimmerPhase:D}=t;if(l<.02)return;let R=n?.trailConfig,E=n?.glowConfig;(R?.enabled??V.enabled)&&t.trail.length>0&&Ut(e,t,R??V),e.save();let g=E?.enabled??Fe.enabled;g&&(e.shadowBlur=E?.blur??Fe.blur,e.shadowColor=E?.color??K(s)),e.translate(r,i),e.rotate(a+u),t.depth>0&&e.scale(h,p);let d=1+(D-Math.floor(D))*.3-.15,I=.7+.3*(h*p<0?-(h*p):h*p),A=l*s.a*I*(g?E?.intensity??1:1);if(A<.02){e.restore();return}e.globalAlpha=A>1?1:A;let T=s.r*d,N=s.g*d,Y=s.b*d;if(e.fillStyle=`rgb(${T>255?255:T},${N>255?255:N},${Y>255?255:Y})`,t.image&&t.image.isEmoji)Zt(e,t.image.src,o*(t.image.scale??1));else if(t.imageElement)Jt(e,t.imageElement,o*(t.image?.scale??1));else if(c==="custom"&&n?.customDraw){let L={ctx:e,particle:t,progress:1-t.life/t.maxLife,elapsed:n.elapsed??0};n.customDraw(L)}else{let L=f??1;switch(c){case"square":case"rectangle":let re=o*(c==="rectangle"?Math.max(1.5,L*1.5):Math.sqrt(L)),G=o/(c==="rectangle"?Math.max(1.5,L):Math.sqrt(L));e.fillRect(-re*.5,-G*.5,re,G);break;case"circle":e.beginPath(),e.arc(0,0,o*.5,0,x.TWO_PI),e.fill();break;case"triangle":qt(e,o);break;case"star":Wt(e,o);break;case"line":Gt(e,o);break;case"heart":Vt(e,o);break;case"diamond":$t(e,o);break;case"hexagon":jt(e,o);break;case"spiral":Yt(e,o,s);break;case"ribbon":Xt(e,o);break;default:e.fillRect(-o*.5,-o*.5,o,o)}}e.restore()}function Ut(e,t,n){let r=n.fade??V.fade,i=n.width??V.width;e.save(),e.lineCap="round",e.lineJoin="round";for(let o=0;o<t.trail.length-1;o++){let a=t.trail[o],s=t.trail[o+1],c=a.opacity*Math.pow(r,o),l=a.size*i*Math.pow(r,o);c>.01&&l>.1&&(e.beginPath(),e.strokeStyle=K({...t.color,a:c}),e.lineWidth=l,e.moveTo(a.x,a.y),e.lineTo(s.x,s.y),e.stroke())}e.restore()}function qt(e,t){let n=t/2;e.beginPath(),e.moveTo(0,-n),e.lineTo(n,n),e.lineTo(-n,n),e.closePath(),e.fill()}function Wt(e,t){let n=t/2,r=n*at,i=Math.PI/De;e.beginPath();for(let o=0;o<De*2;o++){let a=o%2===0?n:r,s=o*i-x.HALF_PI,c=Math.cos(s)*a,l=Math.sin(s)*a;o===0?e.moveTo(c,l):e.lineTo(c,l)}e.closePath(),e.fill()}function Gt(e,t){let n=t*2,r=t/4;e.fillRect(-n/2,-r/2,n,r)}function Vt(e,t){let n=t/30;e.save(),e.scale(n,n),e.beginPath(),e.moveTo(0,-8),e.bezierCurveTo(-10,-18,-25,-8,-15,5),e.lineTo(0,18),e.lineTo(15,5),e.bezierCurveTo(25,-8,10,-18,0,-8),e.closePath(),e.fill(),e.restore()}function $t(e,t){let n=t/2;e.beginPath(),e.moveTo(0,-n),e.lineTo(n*.6,0),e.lineTo(0,n),e.lineTo(-n*.6,0),e.closePath(),e.fill()}function jt(e,t){let n=t/2;e.beginPath();for(let r=0;r<6;r++){let i=Math.PI/3*r-Math.PI/6,o=Math.cos(i)*n,a=Math.sin(i)*n;r===0?e.moveTo(o,a):e.lineTo(o,a)}e.closePath(),e.fill()}function Yt(e,t,n){e.strokeStyle=K(n),e.lineWidth=t/8,e.lineCap="round",e.beginPath();for(let r=0;r<22;r++){let i=.35*r,o=(.2+1.5*i)*(t/20),a=o*Math.cos(i),s=o*Math.sin(i);r===0?e.moveTo(a,s):e.lineTo(a,s)}e.stroke()}function Xt(e,t){let n=t,r=t/3,i=t/4;e.beginPath(),e.moveTo(-n/2,0),e.quadraticCurveTo(-n/4,-i,0,0),e.quadraticCurveTo(n/4,i,n/2,0),e.lineTo(n/2,r),e.quadraticCurveTo(n/4,r+i,0,r),e.quadraticCurveTo(-n/4,r-i,-n/2,r),e.closePath(),e.fill()}function Zt(e,t,n){e.font=`${n}px serif`,e.textAlign="center",e.textBaseline="middle",e.fillText(t,0,0)}function Jt(e,t,n){let r=n/2;e.drawImage(t,-r,-r,n,n)}function mt(e){return e.filter(t=>t.active).length}var b=null,U=null,ee=0,ue=null,gt=[],Kt=500;function bt(e){gt.length<Kt&&(e.active=!1,e.trail.length=0,gt.push(e))}var Se=360,Qt=new Float32Array(Se),en=new Float32Array(Se);for(let e=0;e<Se;e++){let t=e*Math.PI/180;Qt[e]=Math.sin(t),en[e]=Math.cos(t)}function tn(e,t){if(!$())throw new Error("ConfettiEngine requires a browser environment");let n={...Ae,...t},r=n.pixelRatio??dt(X.MAX_DPR);if(!b){if(b=document.createElement("canvas"),b.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: ${e};
    `,U=b.getContext("2d",{alpha:!0,desynchronized:!0}),!U)throw new Error("Failed to get canvas 2D context");document.body.appendChild(b),n.autoResize&&(ue=()=>{if(b&&U){let a=n.width??window.innerWidth,s=n.height??window.innerHeight;b.width=a*r,b.height=s*r,b.style.width=`${a}px`,b.style.height=`${s}px`,U.scale(r,r)}},window.addEventListener("resize",ue))}b.style.zIndex=String(e);let i=n.width??window.innerWidth,o=n.height??window.innerHeight;return(b.width!==i*r||b.height!==o*r)&&(b.width=i*r,b.height=o*r,b.style.width=`${i}px`,b.style.height=`${o}px`,U.scale(r,r)),{canvas:b,ctx:U,width:i,height:o,dpr:r}}function nn(){b&&ee===0&&setTimeout(()=>{ee===0&&b&&(ue&&(window.removeEventListener("resize",ue),ue=null),b.remove(),b=null,U=null)},ot)}function Ct(e,t,n){let{type:r,x:i,y:o,w:a,h:s}=e;switch(r){case"point":return{x:i,y:o};case"rect":return{x:m(i,i+(a??0)),y:m(o,o+(s??0))};case"line":let c=C();return{x:i+c*(a??0),y:o+c*(s??0)};case"circle":let l=C()*x.TWO_PI,u=Math.sqrt(C())*(a??50);return{x:i+Math.cos(l)*u,y:o+Math.sin(l)*u};default:return{x:i,y:o}}}var de=class{constructor(t,n){this.particles=[];this.canvasContext=null;this.animationFrameId=null;this.lastFrameTime=0;this.lastSpawnTime=0;this.isRunning=!1;this.isPaused=!1;this.deferred=ft();this.frameInterval=0;this.lastRenderTime=0;this.animate=()=>{if(!this.isRunning||!this.canvasContext)return;if((this.mode==="continuous"||this.mode==="snow"||this.mode==="rain")&&!this.continuousConfig.run){this.animationFrameId=requestAnimationFrame(this.animate),this.lastFrameTime=performance.now();return}if(this.isPaused){this.animationFrameId=requestAnimationFrame(this.animate),this.lastFrameTime=performance.now();return}let t=performance.now(),n=t-this.lastFrameTime;if(this.lastFrameTime=t,this.frameInterval>0){if(t-this.lastRenderTime<this.frameInterval){this.animationFrameId=requestAnimationFrame(this.animate);return}this.lastRenderTime=t}let{ctx:r,width:i,height:o,dpr:a}=this.canvasContext,{physics:s,particle:c}=this.config;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,i*a,o*a),r.scale(a,a);let l=this.particles,u=l.length,f=0,h=!0,p=100,D=-p,R=i+p,E=-p,g=o+p;for(let v=0;v<u;v++){let d=l[v];if(d.active){if(pt(d,n,s,c.fadeOut,c.scaleDown),d.data?.isRocket&&d.y<=d.data.targetY){d.active=!1,this.explodeFirework(d.x,d.y,d.data);continue}if(d.data?.willExplode&&!d.data.hasExploded&&d.vx*d.vx+d.vy*d.vy<1&&(d.data.hasExploded=!0,this.explodeFirework(d.x,d.y,{burstCount:15,spread:360,burstColors:d.data.burstColors})),d.x<D||d.x>R||d.y<E||d.y>g){(d.y>g||d.x<D-200||d.x>R+200)&&(d.active=!1);continue}ht(r,d,{customDraw:this.drawShape}),f++,h=!1}}if(this.mode==="continuous"||this.mode==="snow"||this.mode==="rain"){let v=t-this.lastSpawnTime,d=1e3/(this.continuousConfig.spawnRate??10);if(v>=d){if(this.continuousConfig.recycle){let A=this.continuousConfig.numberOfPieces-f;if(A>0){for(let T=u-1;T>=0&&A>0;T--)l[T].active||(bt(l[T]),l.splice(T,1));this.spawnParticles(Math.min(A,5))}}else f<this.continuousConfig.numberOfPieces&&this.spawnParticles(Math.min(3,this.continuousConfig.numberOfPieces-f));this.lastSpawnTime=t}}if(this.mode==="firework"){let v=0;for(let I=0;I<u;I++)l[I].active&&l[I].data?.isRocket&&v++;let d=t-this.lastSpawnTime;v===0&&d>=(this.fireworkConfig.burstDelay??500)&&(this.launchFirework(),this.lastSpawnTime=t)}if((this.mode==="burst"||this.mode==="cannon"||this.mode==="explosion")&&h){this.complete();return}this.animationFrameId=requestAnimationFrame(this.animate)};this.origin=t,this.config=Ce(n),this.mode=n?.mode??"burst",this.spawnArea=n?.spawnArea,this.continuousConfig={...nt,...n?.continuous},this.fireworkConfig={...rt,...n?.firework},this.canvasConfig={...Ae,...n?.canvas},this.drawShape=n?.particle?.drawShape,this.canvasConfig.frameRate&&(this.frameInterval=1e3/this.canvasConfig.frameRate)}start(){if(this.isRunning)return this.createHandle();if(!$())return this.deferred.resolve(),this.createHandle();if(this.isRunning=!0,ee++,this.canvasContext=tn(this.config.zIndex,this.canvasConfig),this.mode==="continuous"||this.mode==="snow"||this.mode==="rain"){let t=Math.min(this.continuousConfig.numberOfPieces,Math.floor(this.continuousConfig.numberOfPieces*.5));this.spawnParticles(t)}else this.mode==="firework"?this.launchFirework():this.createParticles();return this.config.onStart?.(),this.lastFrameTime=performance.now(),this.lastSpawnTime=performance.now(),this.lastRenderTime=performance.now(),this.animate(),this.createHandle()}createParticles(){let{particleCount:t,particle:n,direction:r,physics:i}=this.config,{x:o,y:a}=this.origin,s=Math.min(t,X.MAX_PARTICLES);for(let c=0;c<s;c++){let l;if(r.direction==="radial")l=C()*x.TWO_PI;else{let h=ce(r.direction,r.angle),p=S(r.spread);l=h+(C()-.5)*p}let u=m(r.velocity[0],r.velocity[1]),f=Q(o,a,l,u,n.colors,n.shapes,n.size,n.opacity,n.lifespan,i.rotationSpeed,{images:n.images,tiltRange:n.tilt,spinSpeedRange:n.spinSpeed,depth3D:n.depth3D});this.particles.push(f)}}spawnParticles(t){if(!this.canvasContext)return;let{particle:n,physics:r}=this.config,{width:i,height:o}=this.canvasContext;for(let a=0;a<t;a++){let s;this.spawnArea?s=Ct(this.spawnArea,i,o):this.mode==="snow"||this.mode==="rain"?s={x:m(0,i),y:-20}:s={x:m(0,i),y:m(-20,0)};let c,l;this.mode==="snow"?(c=S(m(-20,20)-90),l=m(.5,2)):this.mode==="rain"?(c=S(-90),l=m(8,15)):(c=C()*x.TWO_PI,l=m(2,6));let u=Q(s.x,s.y,c,l,n.colors,n.shapes,n.size,n.opacity,n.lifespan,r.rotationSpeed,{images:n.images,tiltRange:n.tilt,spinSpeedRange:n.spinSpeed,depth3D:n.depth3D});this.particles.push(u)}}launchFirework(){if(!this.canvasContext)return;let{width:t,height:n}=this.canvasContext,{launchHeight:r,burstCount:i,spread:o,secondaryExplosions:a,rocketColors:s,burstColors:c,trailLength:l}=this.fireworkConfig,u=this.spawnArea?Ct(this.spawnArea,t,n).x:m(t*.2,t*.8),f=n*(1-r),h=u+m(-50,50),p=Q(u,n,S(-90+m(-10,10)),m(15,25),s,["circle"],[3,5],[1,1],2e3,0);p.data={isRocket:!0,targetY:f,targetX:h,burstCount:i,spread:o,burstColors:c,secondaryExplosions:a,trailLength:l},this.particles.push(p)}explodeFirework(t,n,r){let{burstCount:i=80,spread:o=360,burstColors:a,secondaryExplosions:s}=r,c=a??this.config.particle.colors,l=S(o);for(let u=0;u<i;u++){let f=u/i*l-l/2+S(-90),h=m(4,12),p=Q(t,n,f,h,c,this.config.particle.shapes,[2,6],[.8,1],1500,this.config.physics.rotationSpeed);s&&C()<.1&&(p.data={willExplode:!0,burstColors:c}),this.particles.push(p)}}stop(){this.isRunning&&(this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.cleanup(),this.deferred.resolve())}pause(){this.isPaused=!0}resume(){this.isPaused=!1}complete(){this.config.onComplete?.(),this.cleanup(),this.deferred.resolve()}cleanup(){this.isRunning=!1,this.isPaused=!1;let t=this.particles;for(let n=t.length-1;n>=0;n--)bt(t[n]);this.particles=[],this.canvasContext=null,ee--,this.config.autoCleanup&&nn()}addParticles(t){if(!(!this.isRunning||!this.canvasContext))if(this.mode==="continuous"||this.mode==="snow"||this.mode==="rain")this.spawnParticles(t);else{let{particle:n,direction:r,physics:i}=this.config,{x:o,y:a}=this.origin;for(let s=0;s<t;s++){let c;if(r.direction==="radial")c=C()*x.TWO_PI;else{let f=ce(r.direction,r.angle),h=S(r.spread);c=f+(C()-.5)*h}let l=m(r.velocity[0],r.velocity[1]),u=Q(o,a,c,l,n.colors,n.shapes,n.size,n.opacity,n.lifespan,i.rotationSpeed);this.particles.push(u)}}}clear(){this.particles=[]}getParticleCount(){return mt(this.particles)}getState(){return this.isRunning?this.isPaused?"paused":"running":"stopped"}createHandle(){return{stop:()=>this.stop(),pause:()=>this.pause(),resume:()=>this.resume(),promise:this.deferred.promise,addParticles:t=>this.addParticles(t),clear:()=>this.clear(),getParticleCount:()=>this.getParticleCount(),getState:()=>this.getState()}}};function fe(e,t){return new de(e,t).start()}function ve(e,t){if(!e||!$())return null;let n=e.getBoundingClientRect(),r={x:n.left+n.width/2,y:n.top+n.height/2};return fe(r,t)}function vt(){return ee}function wt(){b&&(b.remove(),b=null,U=null),ee=0}var O=require("react");function j(){let[e,t]=(0,O.useState)(!1),n=(0,O.useRef)(new Set);(0,O.useEffect)(()=>()=>{n.current.forEach(l=>l.stop()),n.current.clear()},[]);let r=(0,O.useCallback)((l,u)=>{let f=fe(l,u);return n.current.add(f),t(!0),f.promise.then(()=>{n.current.delete(f),n.current.size===0&&t(!1)}),f},[]),i=(0,O.useCallback)((l,u)=>{if(!l)return null;let f=ve(l,u);return f&&(n.current.add(f),t(!0),f.promise.then(()=>{n.current.delete(f),n.current.size===0&&t(!1)})),f},[]),o=(0,O.useCallback)(()=>{n.current.forEach(l=>l.stop()),n.current.clear(),t(!1)},[]),a=(0,O.useCallback)(()=>{n.current.forEach(l=>l.pause())},[]),s=(0,O.useCallback)(()=>{n.current.forEach(l=>l.resume())},[]),c=(0,O.useCallback)(()=>Array.from(n.current),[]);return{fire:r,fireFromElement:i,isActive:e,stopAll:o,pauseAll:a,resumeAll:s,getActiveHandles:c}}var P=require("react");var Oe=require("react/jsx-runtime");function yt({active:e,origin:t,triggerRef:n,options:r,onComplete:i}){let{fire:o,fireFromElement:a}=j(),s=(0,P.useRef)(!1);return(0,P.useEffect)(()=>{if(e&&!s.current){s.current=!0;let c=null;n?.current?c=a(n.current,r):t&&(c=o(t,r)),c&&c.promise.then(()=>{i?.()})}},[e,t,n,r,o,a,i]),(0,P.useEffect)(()=>{e||(s.current=!1)},[e]),null}var rn=(0,P.forwardRef)(({options:e,style:t},n)=>{let r=(0,P.useRef)(null),{fireFromElement:i}=j();return(0,P.useImperativeHandle)(n,()=>({fire:()=>i(r.current,e)})),(0,Oe.jsx)("div",{ref:r,style:{position:"absolute",width:1,height:1,pointerEvents:"none",...t},"aria-hidden":"true"})});rn.displayName="ConfettiTrigger";var Me=(0,P.forwardRef)(({children:e,confettiOptions:t,fireOnClick:n=!0,onClick:r,...i},o)=>{let a=(0,P.useRef)(null),{fireFromElement:s}=j(),c=(0,P.useCallback)(u=>{a.current=u,typeof o=="function"?o(u):o&&(o.current=u)},[o]),l=(0,P.useCallback)(u=>{n&&a.current&&s(a.current,t),r?.(u)},[n,s,t,r]);return(0,Oe.jsx)("button",{ref:c,onClick:l,...i,children:e})});Me.displayName="ConfettiButton";function on({width:e,height:t,numberOfPieces:n=200,confettiSource:r,initialVelocityX:i,initialVelocityY:o,recycle:a=!0,run:s=!0,gravity:c=.3,wind:l=0,opacity:u=1,drawShape:f,tweenDuration:h=100,colors:p,onConfettiComplete:D,frameRate:R}){let{fire:E}=j(),g=(0,P.useRef)(null),v=(0,P.useRef)(!1);return(0,P.useEffect)(()=>{if(!s){g.current&&(g.current.stop(),g.current=null),v.current=!1;return}if(v.current)return;v.current=!0;let d=r?{type:"rect",x:r.x,y:r.y,w:r.w??window.innerWidth,h:r.h??10}:{type:"rect",x:0,y:0,w:e??window.innerWidth,h:10},I=typeof i=="number"?[i*.5,i*1.5]:i?[i.min,i.max]:[4,10],A=typeof o=="number"?[o*.5,o*1.5]:o?[o.min,o.max]:[10,30],T=(e??window.innerWidth)/2,N=0;return g.current=E({x:T,y:N},{particleCount:n,particle:{colors:p??["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff"],opacity:[u*.8,u],shapes:["square","circle","rectangle"],drawShape:f},physics:{gravity:c*10,wind:l*5,windVariation:I[1]-I[0]},direction:{velocity:A},mode:"continuous",spawnArea:d,continuous:{recycle:a,numberOfPieces:n,spawnRate:30,run:s,tweenDuration:h},canvas:{width:e,height:t,frameRate:R,autoResize:!e&&!t},onComplete:D}),()=>{g.current&&(g.current.stop(),g.current=null)}},[s,e,t,n,r,i,o,a,c,l,u,f,h,p,D,R,E]),(0,P.useEffect)(()=>{g.current},[a]),null}on.displayName="Confetti";var An=Math.PI*2,an=Math.PI/180,Pt=1e3/60;function y(){if(typeof crypto<"u"&&crypto.getRandomValues){let e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]/4294967296}return Math.random()}function we(e){return e*an}function q(e,t,n){return Math.min(Math.max(e,t),n)}function Be(e,t){let n=Math.max(0,e-t),r=n/Pt;return Object.freeze({value:n,factor:r})}function It(e){if(typeof e!="string"||e.length>50)return null;let t=e.trim().toLowerCase();if(t.startsWith("#")){let r=t.slice(1);if(!/^[0-9a-f]+$/.test(r))return null;let i,o,a,s=255;if(r.length===3)i=parseInt(r[0]+r[0],16),o=parseInt(r[1]+r[1],16),a=parseInt(r[2]+r[2],16);else if(r.length===6)i=parseInt(r.slice(0,2),16),o=parseInt(r.slice(2,4),16),a=parseInt(r.slice(4,6),16);else if(r.length===8)i=parseInt(r.slice(0,2),16),o=parseInt(r.slice(2,4),16),a=parseInt(r.slice(4,6),16),s=parseInt(r.slice(6,8),16);else return null;return{r:i,g:o,b:a,a:s/255}}let n=t.match(/^rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([\d.]+))?\s*\)$/);return n?{r:q(parseInt(n[1],10),0,255),g:q(parseInt(n[2],10),0,255),b:q(parseInt(n[3],10),0,255),a:n[4]!==void 0?q(parseFloat(n[4]),0,1):1}:null}function ke(e,t){let n=It(e);if(!n)return e;let{r,g:i,b:o,a}=n,s=q(r+t,0,255),c=q(i+t,0,255),l=q(o+t,0,255);return a<1?`rgba(${Math.round(s)}, ${Math.round(c)}, ${Math.round(l)}, ${a})`:`rgb(${Math.round(s)}, ${Math.round(c)}, ${Math.round(l)})`}function te(){if(typeof window>"u")return!1;try{return window.matchMedia?.("(prefers-reduced-motion: reduce)").matches??!1}catch{return!1}}var sn=0;function pe(){return++sn}function ye(e){if(e.length===0)return;let t=Math.floor(y()*e.length);return e[t]}function Pe(e){return typeof requestAnimationFrame<"u"?requestAnimationFrame(e):setTimeout(e,Pt)}function _e(e){typeof cancelAnimationFrame<"u"?cancelAnimationFrame(e):clearTimeout(e)}function ze(){return typeof window>"u"?1:Math.min(window.devicePixelRatio||1,2)}var Tt=Object.freeze(["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"]),ln=Object.freeze(["square","circle"]),Ie=Math.PI*2,Te=class e{constructor(t,n,r,i,o,a,s,c,l,u,f,h,p,D,R,E,g){this.id=t,this.position=n,this.velocity=r,this.angle2D=i,this.gravity=o,this.drift=a,this.decay=s,this.wobble=c,this.tilt=l,this.roll=u,this.rotate=f,this.color=h,this.shape=p,this.size=D,this.scalar=R,this.flat=E,this.tick=0,this.totalTicks=g,this.destroyed=!1,this.opacity=1}static create(t,n,r={}){let{angle:i=90,spread:o=45,startVelocity:a=45,decay:s=.94,gravity:c=1,drift:l=0,flat:u=!1,ticks:f=200,origin:h={x:.5,y:.5},colors:p=Tt,shapes:D=ln,scalar:R=1,size:E=4}=r,g={x:h.x*t,y:h.y*n},v=we(i),d=we(o),I=-v+(.5*d-y()*d),A=a*.5+y()*a,T={angle:y()*Ie,angleSpeed:y()*.1+.05,moveSpeed:-15+y()*30,distance:25+y()*15},N={value:y()*Ie,sinDirection:y()>=.5?1:-1,cosDirection:y()>=.5?1:-1,speed:(y()*.4+.3)*(y()>.5?1:-1),enable:!u},Y={angle:y()*Ie,speed:(15+y()*10)/60,horizontal:y()>.3,vertical:y()>.7,enable:!u},L={angle:y()*Ie,speed:(y()*2-1)*.1,enable:!u},re=ye(p)??Tt[0],G=ye(D)??"square";return new e(pe(),g,A,I,c*3,l,s,T,N,Y,L,re,G,E,R,u,f)}get progress(){return this.tick/this.totalTicks}get computedSize(){return this.size*this.scalar}destroy(){this.destroyed=!0}clone(t){let n=Object.create(e.prototype);return Object.assign(n,this,t),n}},xe=class{constructor(t=1e3){this.pool=[];this.maxSize=t}acquire(t,n,r){let i=this.pool.pop();return i?this.resetParticle(i,t,n,r):Te.create(t,n,r)}release(t){this.pool.length<this.maxSize&&(t.destroyed=!0,this.pool.push(t))}clear(){this.pool.length=0}get size(){return this.pool.length}resetParticle(t,n,r,i){let o=Te.create(n,r,i);return Object.assign(t,o,{id:t.id}),t.destroyed=!1,t}};var M=Math.PI*2,Le=class{constructor(){this.id="base"}init(t){}isEnabled(t){return!t.destroyed}update(t,n){if(t.destroyed)return;let r=Math.cos(t.angle2D)*t.velocity,i=Math.sin(t.angle2D)*t.velocity;t.position.x+=r*n.factor+t.drift*n.factor,t.position.y+=i*n.factor+t.gravity*n.factor,t.velocity*=t.decay,t.tick++;let o=t.tick/t.totalTicks;t.opacity=1-Math.pow(o,2),t.tick>=t.totalTicks&&(t.destroyed=!0)}},Ne=class{constructor(){this.id="wobble"}init(t){t.wobble||(t.wobble={angle:Math.random()*M,angleSpeed:Math.random()*.1+.05,moveSpeed:-15+Math.random()*30,distance:25+Math.random()*15})}isEnabled(t){return!t.destroyed&&!t.flat&&!!t.wobble}update(t,n){if(!this.isEnabled(t))return;let r=t.wobble;r.angle+=r.angleSpeed*n.factor,r.angle>M&&(r.angle-=M);let i=Math.cos(r.angle)*r.distance*.1;t.position.x+=i*n.factor}},He=class{constructor(){this.id="tilt"}init(t){t.tilt||(t.tilt={value:Math.random()*M,sinDirection:Math.random()>=.5?1:-1,cosDirection:Math.random()>=.5?1:-1,speed:(Math.random()*.4+.3)*(Math.random()>.5?1:-1),enable:!t.flat})}isEnabled(t){return!t.destroyed&&t.tilt?.enable===!0}update(t,n){if(!this.isEnabled(t))return;let r=t.tilt;r.value+=r.speed*.01*n.factor,r.value>M?r.value-=M:r.value<0&&(r.value+=M)}getTransformValues(t){if(!t.tilt?.enable)return{};let n=t.tilt;return{b:Math.cos(n.value)*n.cosDirection*.5,c:Math.sin(n.value)*n.sinDirection*.5}}},Ue=class{constructor(){this.id="roll"}init(t){t.roll||(t.roll={angle:Math.random()*M,speed:(15+Math.random()*10)/60,horizontal:Math.random()>.3,vertical:Math.random()>.7,enable:!t.flat})}isEnabled(t){return!t.destroyed&&t.roll?.enable===!0}update(t,n){if(!this.isEnabled(t))return;let r=t.roll;r.angle+=r.speed*n.factor,r.angle>M&&(r.angle-=M)}getTransformValues(t){if(!t.roll?.enable)return{};let n=t.roll;return{a:n.horizontal?Math.abs(Math.cos(n.angle)):void 0,d:n.vertical?Math.abs(Math.sin(n.angle)):void 0}}getDarkenAmount(t){if(!t.roll?.enable)return 0;let n=t.roll;return!n.horizontal&&!n.vertical?0:(n.horizontal?Math.cos(n.angle):Math.sin(n.angle))<0?25:0}},qe=class{constructor(){this.id="rotate"}init(t){t.rotate||(t.rotate={angle:Math.random()*M,speed:(Math.random()*2-1)*.1,enable:!t.flat})}isEnabled(t){return!t.destroyed&&t.rotate?.enable===!0}update(t,n){if(!this.isEnabled(t))return;let r=t.rotate;r.angle+=r.speed*n.factor,r.angle>M?r.angle-=M:r.angle<0&&(r.angle+=M)}},We=class{constructor(){this.id="opacity"}init(t){t.opacity=1}isEnabled(t){return!t.destroyed}update(t,n){if(!this.isEnabled(t))return;let r=t.tick/t.totalTicks;t.opacity=1-Math.pow(r,2)}};function xt(){return[new Le,new Ne,new He,new Ue,new qe,new We]}var Rt=Math.PI*2,Ge=class{constructor(){this.type="circle"}draw(t,n,r){let i=n.flat?1:.6+Math.sin(n.wobble.angle)*.4;t.ellipse(0,0,r*i,r*(1-i*.3),n.tilt?.value??0,0,Rt)}},Ve=class{constructor(){this.type="square"}draw(t,n,r){let i=n.flat?0:Math.sin(n.wobble.angle)*r*.3;t.moveTo(-r+i,-r),t.lineTo(r+i,-r*.5),t.lineTo(r-i,r),t.lineTo(-r-i,r*.5)}},$e=class{constructor(){this.type="rectangle"}draw(t,n,r){let i=r*1.5,o=r*.6,a=n.flat?0:Math.sin(n.wobble.angle)*o*.2;t.moveTo(-i+a,-o),t.lineTo(i+a,-o*.5),t.lineTo(i-a,o),t.lineTo(-i-a,o*.5)}},je=class{constructor(){this.type="star"}draw(t,n,r){let i=r,o=r*.5,a=5,s=Math.PI/a,c=-Math.PI/2;t.moveTo(0,-i);for(let l=0;l<a;l++)t.lineTo(Math.cos(c)*i,Math.sin(c)*i),c+=s,t.lineTo(Math.cos(c)*o,Math.sin(c)*o),c+=s}},Ye=class{constructor(){this.type="triangle"}draw(t,n,r){let i=r*Math.sqrt(3)/2;t.moveTo(0,-i),t.lineTo(-r,i),t.lineTo(r,i)}},Xe=class{constructor(){this.type="diamond"}draw(t,n,r){t.moveTo(0,-r),t.lineTo(r*.6,0),t.lineTo(0,r),t.lineTo(-r*.6,0)}},Ze=class{constructor(){this.type="heart"}draw(t,n,r){let o=-r*.3,a=r*.3;t.moveTo(0,o+a),t.bezierCurveTo(0-r,o,0-r,o-a*2,0,o-a),t.bezierCurveTo(0+r,o-a*2,0+r,o,0,o+a)}},Je=class{constructor(){this.type="hexagon"}draw(t,n,r){let o=Rt/6;for(let a=0;a<6;a++){let s=o*a-Math.PI/2,c=Math.cos(s)*r,l=Math.sin(s)*r;a===0?t.moveTo(c,l):t.lineTo(c,l)}}},Ke=class{constructor(){this.drawers=new Map;this.register(new Ge),this.register(new Ve),this.register(new $e),this.register(new je),this.register(new Ye),this.register(new Xe),this.register(new Ze),this.register(new Je)}register(t){this.drawers.set(t.type,t)}get(t){return this.drawers.get(t)}has(t){return this.drawers.has(t)}getTypes(){return Array.from(this.drawers.keys())}unregister(t){return this.drawers.delete(t)}clear(){this.drawers.clear()}},ne=new Ke;var W=class{constructor(t={}){this.destroyed=!1;this.t=[];this.n=null;this.m=0;this.i=null;this.p=!1;this.o=null;this.P=t=>{if(this.destroyed)return;let n=Be(t,this.m);this.m=t,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);let r=!1,i=[];for(let o=0;o<this.t.length;o++){let a=this.t[o];if(a.destroyed){i.push(o);continue}for(let s of this.e)s.isEnabled(a)&&s.update(a,n);if(a.destroyed){i.push(o);continue}r=!0,this.E(a)}for(let o=i.length-1;o>=0;o--){let a=i[o],s=this.t[a];this.l.release(s),this.t.splice(a,1)}r?this.n=Pe(this.P):(this.n=null,this.i?.(),this.i=null)};this.I=()=>{this.v()};this.id=`confetti-${pe()}`,this.f={canvas:t.canvas,resize:t.resize??!0,zIndex:t.zIndex??100,disableForReducedMotion:t.disableForReducedMotion??!1},t.canvas?this.canvas=t.canvas:(this.canvas=this.T(),this.p=!0);let n=this.canvas.getContext("2d",{alpha:!0,desynchronized:!0});if(!n)throw new Error("Failed to get 2D canvas context");this.ctx=n,this.e=xt(),this.l=new xe(500),this.f.resize&&this.R(),this.v()}get particles(){return this.t}async fire(t={}){if(this.f.disableForReducedMotion&&te())return Promise.resolve();if(this.destroyed)throw new Error("Cannot fire on destroyed container");let n=t.particleCount??100,r=this.canvas.width,i=this.canvas.height;for(let o=0;o<n;o++){let a=this.l.acquire(r,i,t);for(let s of this.e)s.init(a);this.t.push(a)}return this.n?new Promise(o=>{let a=this.i;this.i=()=>{a?.(),o()}}):new Promise(o=>{this.i=o,this.m=performance.now(),this.n=Pe(this.P)})}stop(){this.n&&(_e(this.n),this.n=null);for(let t of this.t)this.l.release(t);this.t.length=0,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.i?.(),this.i=null}reset(){this.stop(),this.l.clear()}destroy(){this.destroyed||(this.stop(),this.o&&(this.o.disconnect(),this.o=null),this.p&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.destroyed=!0)}E(t){let n=this.ctx,r=t.size*t.scalar,i={a:1,b:0,c:0,d:1};for(let l of this.e)if(l.getTransformValues){let u=l.getTransformValues(t);u.a!==void 0&&(i.a=u.a),u.b!==void 0&&(i.b=u.b),u.c!==void 0&&(i.c=u.c),u.d!==void 0&&(i.d=u.d)}let a=this.e.find(l=>l.id==="roll")?.getDarkenAmount(t)??0,s=a>0?ke(t.color,-a):t.color;n.save(),n.translate(t.position.x,t.position.y),n.rotate(t.rotate?.angle??0),n.transform(i.a??1,i.b??0,i.c??0,i.d??1,0,0),n.fillStyle=s,n.globalAlpha=t.opacity,n.beginPath();let c=ne.get(t.shape);c?c.draw(n,t,r):ne.get("square")?.draw(n,t,r),n.closePath(),n.fill(),n.restore()}T(){let t=document.createElement("canvas");return t.id=this.id,t.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: ${this.f.zIndex};
    `,document.body.appendChild(t),t}R(){if(typeof ResizeObserver>"u"){window.addEventListener("resize",this.I);return}this.o=new ResizeObserver(this.I),this.p?this.o.observe(document.body):this.canvas.parentElement&&this.o.observe(this.canvas.parentElement)}v(){let t=ze();if(this.p)this.canvas.width=window.innerWidth*t,this.canvas.height=window.innerHeight*t;else{let n=this.canvas.getBoundingClientRect();this.canvas.width=n.width*t,this.canvas.height=n.height*t}this.ctx.scale(t,t)}};var Re=class{constructor(){this.e=[];this.C=[];this.u=[];this.s=null}addUpdater(t){this.e.some(n=>n.id===t.id)||this.e.push(t)}addMover(t){this.C.some(n=>n.id===t.id)||this.C.push(t)}addShapeDrawer(t){ne.register(t)}getUpdaters(){return Object.freeze([...this.e])}getMovers(){return Object.freeze([...this.C])}getShapeDrawer(t){return ne.get(t)}createContainer(t){let n=new W(t);return this.u.push(n),n}getDefaultContainer(){return(!this.s||this.s.destroyed)&&(this.s=new W,this.u.push(this.s)),this.s}destroyAll(){for(let t of this.u)t.destroy();this.u.length=0,this.s=null}get containerCount(){return this.u.length}},Qe=null;function et(){return Qe||(Qe=new Re),Qe}var he=new Map;function Et(e,t){let n=he.get(e);if(!n||n.destroyed){let r=e==="default"?{resize:!0,...t}:{canvas:e,resize:t?.resize??!1,...t};n=new W(r),he.set(e,n)}return n}function Ft(e){return{particleCount:e.particleCount??100,size:e.size??4,angle:e.angle??90,spread:e.spread??45,startVelocity:e.startVelocity??45,decay:e.decay??.94,gravity:e.gravity??1,drift:e.drift??0,flat:e.flat??!1,ticks:e.ticks??200,origin:e.origin??{x:.5,y:.5},colors:e.colors??void 0,shapes:e.shapes??void 0,scalar:e.scalar??1}}function F(e={}){if(e.disableForReducedMotion&&te())return Promise.resolve();try{return Et("default").fire(Ft(e))}catch{return null}}F.create=function(e,t={}){let n=Et(e,t),r=(i={})=>{if((i.disableForReducedMotion??t.disableForReducedMotion)&&te())return Promise.resolve();try{return n.fire(Ft(i))}catch{return null}};return r.reset=()=>{n.stop()},r};F.reset=function(){let e=he.get("default");e&&!e.destroyed&&e.stop()};F.fireworks=async function(e={}){let t={particleCount:30,spread:55,...e};await Promise.all([F({...t,angle:60,origin:{x:0,y:.65}}),F({...t,angle:120,origin:{x:1,y:.65}})])};F.schoolPride=function(e={}){let t=Date.now()+3e3,n=e.colors??["#bb0000","#ffffff"];function r(){F({particleCount:2,angle:60,spread:55,origin:{x:0,y:.6},colors:n,...e}),F({particleCount:2,angle:120,spread:55,origin:{x:1,y:.6},colors:n,...e}),Date.now()<t&&requestAnimationFrame(r)}r()};F.snow=function(e={}){let{duration:t=5e3,...n}=e,r=Date.now()+t;function i(){F({particleCount:1,startVelocity:0,ticks:300,gravity:.3,origin:{x:Math.random(),y:0},colors:["#ffffff","#f0f8ff","#e6f3ff"],shapes:["circle"],scalar:.8+Math.random()*.4,drift:Math.random()-.5,...n}),Date.now()<r&&requestAnimationFrame(i)}i()};F.burst=function(e,t={}){return F({particleCount:80,spread:360,startVelocity:30,decay:.92,scalar:1.2,origin:e,...t})};F.destroyAll=function(){for(let e of he.values())e.destroy();he.clear(),et().destroyAll()};F.getShapes=function(){return["square","circle","star","triangle","rectangle","diamond","heart","hexagon"]};
